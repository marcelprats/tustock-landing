---
import Layout from '~/layouts/PageLayout.astro';
import PricingSection from '~/components/widgets/PricingSection.astro';
import ComparisonTable from '~/components/widgets/ComparisonTable.astro'; // <--- NUESTRA TABLA
import FAQs from '~/components/widgets/FAQs.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

const metadata = {
  title: 'Precios y Comparativa | TuStock',
};
---

<Layout metadata={metadata}>
  
  <div class="pt-20 pb-10 bg-blue-50 dark:bg-slate-900/50 text-center px-4">
    <h1 class="text-4xl md:text-5xl font-bold mb-6 font-heading">Transparencia Total</h1>
    <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
      Sin costes ocultos. Sin sorpresas. Escoge el plan que se adapta a tu volumen de inventario.
    </p>
  </div>

  {/* 1. LAS TARJETAS (Sin el enlace "Ver más", porque ya estamos aquí) */}
  <PricingSection showLink={false} />

  {/* 2. LA TABLA DETALLADA (Esto es "Toda la info") */}
  <ComparisonTable />

  {/* 3. PREGUNTAS FRECUENTES */}
  <FAQs
    title="Preguntas Frecuentes"
    subtitle="Todo lo que necesitas saber antes de suscribirte."
    columns={1}
    items={[
      {
        title: '¿Qué significa "Nodos Docker"?',
        description: 'En los planes de empresa, instalamos un pequeño contenedor (software) en tu servidor local que se comunica con nuestra nube de forma segura.',
      },
      {
        title: '¿Hay permanencia?',
        description: 'No. Puedes cancelar el plan Pro o Business mensualmente. Los planes Enterprise suelen ser anuales.',
      },
      {
        title: '¿Puedo cambiar de plan más tarde?',
        description: 'Sí, puedes pasar de Gratis a Pro, o de Pro a Business en cualquier momento sin perder datos.',
      },
      {
        title: '¿Cómo funciona la IA de facturas?',
        description: 'Subes una foto o PDF de una factura de proveedor, y nuestra IA extrae los productos, cantidades y precios para actualizar tu stock automáticamente.',
      },
    ]}
  />

  <CallToAction
    actions={[{ variant: 'primary', text: 'Empezar con el Plan Gratis', href: '/register' }]}
  >
    <Fragment slot="title">¿Aún con dudas?</Fragment>
    <Fragment slot="subtitle">Crea una cuenta gratuita y prueba el sistema. No te pediremos tarjeta de crédito.</Fragment>
  </CallToAction>
</Layout>
